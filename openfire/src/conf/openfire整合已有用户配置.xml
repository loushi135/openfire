<?xml version="1.0" encoding="UTF-8"?>

<!--
    This file stores bootstrap properties needed by Openfire.
    Property names must be in the format: "prop.name.is.blah=value"
    That will be stored as:
        <prop>
            <name>
                <is>
                    <blah>value</blah>
                </is>
            </name>
        </prop>
    Most properties are stored in the Openfire database. A
 property viewer and editor is included in the admin console.
-->
<!-- root element, all properties must be under this element -->
<jive> 
  <adminConsole> 
    <!-- Disable either port by setting the value to -1 -->  
    <port>9090</port>  
    <securePort>9091</securePort> 
  </adminConsole>  
  <admin> 
    <authorizedUsernames>zb,admin</authorizedUsernames> 
  </admin>  
  <locale>zh_CN</locale>  
  <provider> 
    <auth> 
      <className>org.jivesoftware.openfire.auth.JDBCAuthProvider</className> 
    </auth>  
    <user> 
      <className>org.jivesoftware.openfire.user.JDBCUserProvider</className> 
    </user>  
    <group> 
      <className>org.jivesoftware.openfire.group.JDBCGroupProvider</className> 
    </group> 
  </provider>  
  <jdbcProvider> 
    <driver>com.mysql.jdbc.Driver</driver>  
    <connectionString>jdbc:mysql://localhost:3306/mydb?user=root&amp;password=</connectionString> 
  </jdbcProvider>  
  <jdbcAuthProvider> 
    <passwordSQL>SELECT password FROM user WHERE username=?</passwordSQL>  
    <passwordType>plain</passwordType> 
  </jdbcAuthProvider>  
  <jdbcUserProvider> 
    <loadUserSQL>SELECT name,email FROM user WHERE username=?</loadUserSQL>  
    <userCountSQL>SELECT COUNT(*) FROM user</userCountSQL>  
    <allUsersSQL>SELECT username FROM user</allUsersSQL>  
    <searchSQL>SELECT username FROM user WHERE</searchSQL>  
    <usernameField>username</usernameField>  
    <nameField>name</nameField>  
    <emailField>email</emailField> 
  </jdbcUserProvider>  
  <jdbcGroupProvider> 
    <groupCountSQL>SELECT count(*) FROM myGroups</groupCountSQL>  
    <allGroupsSQL>SELECT groupName FROM myGroups</allGroupsSQL>  
    <userGroupsSQL>SELECT groupName FROM myGroupUsers WHERE username=?</userGroupsSQL>  
    <descriptionSQL>SELECT groupDescription FROM myGroups WHERE groupName=?</descriptionSQL>  
    <loadMembersSQL>SELECT username FROM myGroupUsers WHERE groupName=? AND isAdmin='N'</loadMembersSQL>  
    <loadAdminsSQL>SELECT username FROM myGroupUsers WHERE groupName=? AND isAdmin='Y'</loadAdminsSQL> 
  </jdbcGroupProvider>  
  <connectionProvider> 
    <className>org.jivesoftware.database.DefaultConnectionProvider</className> 
  </connectionProvider>  
  <database> 
    <defaultProvider> 
      <driver>com.mysql.jdbc.Driver</driver>  
      <serverURL>jdbc:mysql://localhost:3306/openfire</serverURL>  
      <username>root</username>  
      <password></password>  
      <testSQL>select 1</testSQL>  
      <testBeforeUse>true</testBeforeUse>  
      <testAfterUse>true</testAfterUse>  
      <minConnections>5</minConnections>  
      <maxConnections>15</maxConnections>  
      <connectionTimeout>1.0</connectionTimeout> 
    </defaultProvider> 
  </database>  
  <!-- Fin configuration  -->  
  <setup>true</setup>  
  <log> 
    <debug> 
      <enabled>true</enabled> 
    </debug> 
  </log> 
</jive>
